<!-- generated by the src2html.pl tool from code2ebook:
  https://github.com/agentzh/code2ebook
-->

<html>
 <head>
  <title>com/microsoft/spark/insight/cli/PerfMetricsReport.scala - Spark Insight</title>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <style>
body {
    text-align: left;
    text-align-last: left;
}

code {
    font-family: consolas, monospace;
    line-height: 130%;
}


  </style>
 </head>
 <body>

  <h1>com/microsoft/spark/insight/cli/PerfMetricsReport.scala - Spark Insight</h1>
 <h2>Data types defined</h2>
 <ul class="toc">
<li><a href="#L149">PerfMetricsReport</a></li>
<li><a href="#L157">PerfTableHeader</a></li>
</ul>
 <h2>Functions defined</h2>
 <ul class="toc">
<li><a href="#L65">buildMetricsTable</a></li>
<li><a href="#L101">buildPerStageTables</a></li>
<li><a href="#L26">buildPerfTableRowValues</a></li>
<li><a href="#L139">generateTable</a></li>
<li><a href="#L33">headerDefinition</a></li>
<li><a href="#L80">stageMatchWarning</a></li>
<li><a href="#L47">tableStageHeader</a></li>
<li><a href="#L40">tableSummaryHeader</a></li>
</ul>
 <h2>Source code</h2>

  <code>package com.microsoft.spark.insight.cli<br/>
<br/>
import com.microsoft.spark.insight.cli.<a href="#L149" title="com/microsoft/spark/insight/cli/PerfMetricsReport.scala:149">PerfMetricsReport</a>._<br/>
import com.microsoft.spark.insight.cli.frontend._<br/>
import com.microsoft.spark.insight.utils.<a href="../utils/spark/SparkAppPerfReport.scala.html#L145" title="com/microsoft/spark/insight/utils/spark/SparkAppPerfReport.scala:145">PerfMetrics</a><br/>
import com.microsoft.spark.insight.utils.spark.<a href="../utils/spark/PerJobReport.scala.html#L19" title="com/microsoft/spark/insight/utils/spark/PerJobReport.scala:19">PerJobReport</a><br/>
import com.microsoft.spark.insight.utils.spark.<a href="../utils/spark/PerfValueConversionUtils.scala.html#L13" title="com/microsoft/spark/insight/utils/spark/PerfValueConversionUtils.scala:13">PerfValueConversionUtils</a>.<a href="../utils/spark/PerfValueConversionUtils.scala.html#L21" title="com/microsoft/spark/insight/utils/spark/PerfValueConversionUtils.scala:21">getUnitsAndTransformer</a><br/>
<br/>
import scala.collection.immutable.ListMap<br/>
<br/>
/**<br/>
 * Base class for building <a href="../utils/spark/SparkAppPerfReport.scala.html#L145" title="com/microsoft/spark/insight/utils/spark/SparkAppPerfReport.scala:145">PerfMetrics</a> related tables<br/>
 *<br/>
 * @tparam T the type of <a href="../utils/PerfMetric.scala.html#L17" title="com/microsoft/spark/insight/utils/PerfMetric.scala:17">PerfMetric</a> type (e.g., PerfValue)<br/>
 * @param withStages true or false to show per-stages metrics<br/>
 */<br/>
private[cli] abstract class <a href="#L149" title="com/microsoft/spark/insight/cli/PerfMetricsReport.scala:149">PerfMetricsReport</a>[T](withStages: Boolean) {<br/>
<br/>
&nbsp; /**<br/>
&nbsp;&nbsp; * Construct an array of strings containing the values to be displayed in each row<br/>
&nbsp;&nbsp; *<br/>
&nbsp;&nbsp; * @param <a href="../fetcher/status/statusapiv1.scala.html#L305" title="com/microsoft/spark/insight/fetcher/status/statusapiv1.scala:305">value</a> metric <a href="../fetcher/status/statusapiv1.scala.html#L305" title="com/microsoft/spark/insight/fetcher/status/statusapiv1.scala:305">value</a><br/>
&nbsp;&nbsp; * @param transformer a transformer method that the implementer must use to extract the <a href="../fetcher/status/statusapiv1.scala.html#L305" title="com/microsoft/spark/insight/fetcher/status/statusapiv1.scala:305">value</a> to display in each cell<br/>
&nbsp;&nbsp; * @return one row of <a href="../utils/spark/SparkAppPerfReport.scala.html#L145" title="com/microsoft/spark/insight/utils/spark/SparkAppPerfReport.scala:145">PerfMetrics</a> table<br/>
&nbsp;&nbsp; */<br/>
<a id="L26">&#x200c;</a>&nbsp; protected def <span class="linkable">buildPerfTableRowValues</span>(<a href="../fetcher/status/statusapiv1.scala.html#L305" title="com/microsoft/spark/insight/fetcher/status/statusapiv1.scala:305">value</a>: T, transformer: Double =&gt; String): Array[String]<br/>
<br/>
&nbsp; /**<br/>
&nbsp;&nbsp; * Specify the <a href="../heuristics/HeuristicResult.scala.html#L24" title="com/microsoft/spark/insight/heuristics/HeuristicResult.scala:24">header</a> strings that will be used for table generation<br/>
&nbsp;&nbsp; *<br/>
&nbsp;&nbsp; * @return <a href="../heuristics/HeuristicResult.scala.html#L24" title="com/microsoft/spark/insight/heuristics/HeuristicResult.scala:24">header</a> definition<br/>
&nbsp;&nbsp; */<br/>
<a id="L33">&#x200c;</a>&nbsp; protected def <span class="linkable">headerDefinition</span>: Array[String]<br/>
<br/>
&nbsp; /**<br/>
&nbsp;&nbsp; * Build the summary table <a href="../heuristics/HeuristicResult.scala.html#L24" title="com/microsoft/spark/insight/heuristics/HeuristicResult.scala:24">header</a> based on available column names<br/>
&nbsp;&nbsp; *<br/>
&nbsp;&nbsp; * @return summary <a href="../heuristics/HeuristicResult.scala.html#L24" title="com/microsoft/spark/insight/heuristics/HeuristicResult.scala:24">header</a><br/>
&nbsp;&nbsp; */<br/>
<a id="L40">&#x200c;</a>&nbsp; def <span class="linkable">tableSummaryHeader</span>: <a href="#L157" title="com/microsoft/spark/insight/cli/PerfMetricsReport.scala:157">PerfTableHeader</a> = <a href="#L157" title="com/microsoft/spark/insight/cli/PerfMetricsReport.scala:157">PerfTableHeader</a>(<a href="#L33" title="com/microsoft/spark/insight/cli/PerfMetricsReport.scala:33">headerDefinition</a>, hasDescr = true)<br/>
<br/>
&nbsp; /**<br/>
&nbsp;&nbsp; * Build the per-<a href="../utils/spark/PerStageReport.scala.html#L26" title="com/microsoft/spark/insight/utils/spark/PerStageReport.scala:26">stage</a> table <a href="../heuristics/HeuristicResult.scala.html#L24" title="com/microsoft/spark/insight/heuristics/HeuristicResult.scala:24">header</a> based on available column names<br/>
&nbsp;&nbsp; *<br/>
&nbsp;&nbsp; * @return per-<a href="../utils/spark/PerStageReport.scala.html#L26" title="com/microsoft/spark/insight/utils/spark/PerStageReport.scala:26">stage</a> <a href="../heuristics/HeuristicResult.scala.html#L24" title="com/microsoft/spark/insight/heuristics/HeuristicResult.scala:24">header</a><br/>
&nbsp;&nbsp; */<br/>
<a id="L47">&#x200c;</a>&nbsp; def <span class="linkable">tableStageHeader</span>: <a href="#L157" title="com/microsoft/spark/insight/cli/PerfMetricsReport.scala:157">PerfTableHeader</a> = <a href="#L157" title="com/microsoft/spark/insight/cli/PerfMetricsReport.scala:157">PerfTableHeader</a>(<a href="#L33" title="com/microsoft/spark/insight/cli/PerfMetricsReport.scala:33">headerDefinition</a>.dropRight(1), hasDescr = false)<br/>
<br/>
&nbsp; /**<br/>
&nbsp;&nbsp; * Build a table with perfMetrics columns and the specified <a href="../heuristics/HeuristicResult.scala.html#L24" title="com/microsoft/spark/insight/heuristics/HeuristicResult.scala:24">header</a><br/>
&nbsp;&nbsp; *<br/>
&nbsp;&nbsp; * Example output:<br/>
&nbsp;&nbsp; * ╔══════════════════════════════╤═══════╤════════════════════════════════════════════════════════════════╗<br/>
&nbsp;&nbsp; * ║ Metric <a href="../fetcher/status/statusapiv1.scala.html#L48" title="com/microsoft/spark/insight/fetcher/status/statusapiv1.scala:48">name</a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; │ Value │ Metric <a href="../fetcher/status/statusapiv1.scala.html#L106" title="com/microsoft/spark/insight/fetcher/status/statusapiv1.scala:106">description</a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; ║<br/>
&nbsp;&nbsp; * ╠══════════════════════════════╪═══════╪════════════════════════════════════════════════════════════════╣<br/>
&nbsp;&nbsp; * ║ JVM GC Time&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; │ 5&nbsp; &nbsp;&nbsp; │ Total time JVM spent in garbage collection&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; ║<br/>
&nbsp;&nbsp; * ╟──────────────────────────────┼───────┼────────────────────────────────────────────────────────────────╢<br/>
&nbsp;&nbsp; * ║ First Launch till Completed&nbsp; │ 2&nbsp; &nbsp;&nbsp; │ Duration between launching the first task and <a href="../utils/spark/PerStageReport.scala.html#L26" title="com/microsoft/spark/insight/utils/spark/PerStageReport.scala:26">stage</a> completion ║<br/>
&nbsp;&nbsp; * ╚══════════════════════════════╧═══════╧════════════════════════════════════════════════════════════════╝<br/>
&nbsp;&nbsp; *<br/>
&nbsp;&nbsp; * @param perfMetrics metrics to be rendered into the table<br/>
&nbsp;&nbsp; * @param perfHeader table <a href="../heuristics/HeuristicResult.scala.html#L24" title="com/microsoft/spark/insight/heuristics/HeuristicResult.scala:24">header</a> strings<br/>
&nbsp;&nbsp; * @return Metric Table string<br/>
&nbsp;&nbsp; */<br/>
<a id="L65">&#x200c;</a>&nbsp; def <span class="linkable">buildMetricsTable</span>(perfMetrics: <a href="../utils/spark/SparkAppPerfReport.scala.html#L145" title="com/microsoft/spark/insight/utils/spark/SparkAppPerfReport.scala:145">PerfMetrics</a>[T], perfHeader: <a href="#L157" title="com/microsoft/spark/insight/cli/PerfMetricsReport.scala:157">PerfTableHeader</a>): String = {<br/>
&nbsp; &nbsp; // Generate table body contents sorted by the metric <a href="../fetcher/status/statusapiv1.scala.html#L48" title="com/microsoft/spark/insight/fetcher/status/statusapiv1.scala:48">name</a><br/>
&nbsp; &nbsp; val body = perfMetrics.toArray.sortBy(_._1.displayName).map {<br/>
&nbsp; &nbsp; &nbsp; case (perfMetric, <a href="../fetcher/status/statusapiv1.scala.html#L305" title="com/microsoft/spark/insight/fetcher/status/statusapiv1.scala:305">value</a>) =&gt;<br/>
&nbsp; &nbsp; &nbsp; &nbsp; val (units, transformer) = <a href="../utils/spark/PerfValueConversionUtils.scala.html#L21" title="com/microsoft/spark/insight/utils/spark/PerfValueConversionUtils.scala:21">getUnitsAndTransformer</a>(perfMetric, 2)<br/>
<br/>
&nbsp; &nbsp; &nbsp; &nbsp; val row = Array(perfMetric.displayName) ++ <a href="#L26" title="com/microsoft/spark/insight/cli/PerfMetricsReport.scala:26">buildPerfTableRowValues</a>(<a href="../fetcher/status/statusapiv1.scala.html#L305" title="com/microsoft/spark/insight/fetcher/status/statusapiv1.scala:305">value</a>, transformer)<br/>
&nbsp; &nbsp; &nbsp; &nbsp; if (perfHeader.hasDescr) row :+ s&quot;${perfMetric.<a href="../fetcher/status/statusapiv1.scala.html#L106" title="com/microsoft/spark/insight/fetcher/status/statusapiv1.scala:106">description</a>} (in $units)&quot; else row<br/>
&nbsp; &nbsp; }<br/>
<br/>
&nbsp; &nbsp; // Make <a href="frontend/package.scala.html#L57" title="com/microsoft/spark/insight/cli/frontend/package.scala:57">bold</a> for metric <a href="../fetcher/status/statusapiv1.scala.html#L48" title="com/microsoft/spark/insight/fetcher/status/statusapiv1.scala:48">name</a> column<br/>
&nbsp; &nbsp; val boldMetricName = body.indices.map(rowIndex =&gt; ((rowIndex, 0), Seq(<a href="frontend/TextStyling.scala.html#L8" title="com/microsoft/spark/insight/cli/frontend/TextStyling.scala:8">TextStyling</a>.BOLD))).toMap<br/>
&nbsp; &nbsp; <a href="frontend/CliTable.scala.html#L113" title="com/microsoft/spark/insight/cli/frontend/CliTable.scala:113">CliTable</a>.<a href="frontend/CliTable.scala.html#L127" title="com/microsoft/spark/insight/cli/frontend/CliTable.scala:127">createWithTextStyling</a>(perfHeader.<a href="../heuristics/HeuristicResult.scala.html#L24" title="com/microsoft/spark/insight/heuristics/HeuristicResult.scala:24">header</a>, body, Map.empty, boldMetricName)<br/>
&nbsp; }<br/>
<br/>
<a id="L80">&#x200c;</a>&nbsp; private def <span class="linkable">stageMatchWarning</span>[J, S, P &lt;: <a href="../utils/spark/SparkAppPerfReport.scala.html#L145" title="com/microsoft/spark/insight/utils/spark/SparkAppPerfReport.scala:145">PerfMetrics</a>[T]](<a href="../utils/spark/SparkAppPerfReportBase.scala.html#L56" title="com/microsoft/spark/insight/utils/spark/SparkAppPerfReportBase.scala:56">perJobReport</a>: <a href="../utils/spark/PerJobReport.scala.html#L19" title="com/microsoft/spark/insight/utils/spark/PerJobReport.scala:19">PerJobReport</a>[J, S, P]): Option[String] =<br/>
&nbsp; &nbsp; if (<a href="../utils/spark/SparkAppPerfReportBase.scala.html#L56" title="com/microsoft/spark/insight/utils/spark/SparkAppPerfReportBase.scala:56">perJobReport</a>.<a href="../utils/spark/PerJobReport.scala.html#L40" title="com/microsoft/spark/insight/utils/spark/PerJobReport.scala:40">isValid</a>) {<br/>
&nbsp; &nbsp; &nbsp; None<br/>
&nbsp; &nbsp; } else {<br/>
&nbsp; &nbsp; &nbsp; Some(<br/>
&nbsp; &nbsp; &nbsp; &nbsp; s&quot;Individual <a href="../utils/spark/PerStageReport.scala.html#L26" title="com/microsoft/spark/insight/utils/spark/PerStageReport.scala:26">stage</a> metrics cannot be rendered since the given apps don't match internally. Matching &quot; +<br/>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; s&quot;encountered the following error: ${<a href="../utils/spark/SparkAppPerfReportBase.scala.html#L56" title="com/microsoft/spark/insight/utils/spark/SparkAppPerfReportBase.scala:56">perJobReport</a>.<a href="../utils/spark/PerJobReport.scala.html#L33" title="com/microsoft/spark/insight/utils/spark/PerJobReport.scala:33">failure</a>.<a href="../heuristics/StageAnalyzer.scala.html#L519" title="com/microsoft/spark/insight/heuristics/StageAnalyzer.scala:519">getMessage</a>}\<a href="../utils/AggregatePerfValue.scala.html#L28" title="com/microsoft/spark/insight/utils/AggregatePerfValue.scala:28">n</a>&quot;.<a href="frontend/package.scala.html#L57" title="com/microsoft/spark/insight/cli/frontend/package.scala:57">bold</a>.<a href="frontend/package.scala.html#L36" title="com/microsoft/spark/insight/cli/frontend/package.scala:36">yellow</a>)<br/>
&nbsp; &nbsp; }<br/>
<br/>
&nbsp; /**<br/>
&nbsp;&nbsp; * Build per-<a href="../utils/spark/PerStageReport.scala.html#L26" title="com/microsoft/spark/insight/utils/spark/PerStageReport.scala:26">stage</a> report<br/>
&nbsp;&nbsp; *<br/>
&nbsp;&nbsp; * @param jobReportTitle the title of <a href="../utils/spark/PerJobReport.scala.html#L48" title="com/microsoft/spark/insight/utils/spark/PerJobReport.scala:48">job</a>-level report<br/>
&nbsp;&nbsp; * @param <a href="../utils/spark/SparkAppPerfReportBase.scala.html#L70" title="com/microsoft/spark/insight/utils/spark/SparkAppPerfReportBase.scala:70">jobLevelReport</a> the corresponding <a href="../utils/spark/PerJobReport.scala.html#L48" title="com/microsoft/spark/insight/utils/spark/PerJobReport.scala:48">job</a>-level report<br/>
&nbsp;&nbsp; * @param stageReportTitle the title of per-<a href="../utils/spark/PerStageReport.scala.html#L26" title="com/microsoft/spark/insight/utils/spark/PerStageReport.scala:26">stage</a> report<br/>
&nbsp;&nbsp; * @param <a href="../utils/spark/SparkAppPerfReportBase.scala.html#L56" title="com/microsoft/spark/insight/utils/spark/SparkAppPerfReportBase.scala:56">perJobReport</a> the underlying [[<a href="../utils/spark/PerJobReport.scala.html#L19" title="com/microsoft/spark/insight/utils/spark/PerJobReport.scala:19">PerJobReport</a>]]<br/>
&nbsp;&nbsp; * @tparam J Job key type<br/>
&nbsp;&nbsp; * @tparam S Stage key type<br/>
&nbsp;&nbsp; * @tparam P <a href="../utils/spark/SparkAppPerfReport.scala.html#L145" title="com/microsoft/spark/insight/utils/spark/SparkAppPerfReport.scala:145">PerfMetrics</a> type<br/>
&nbsp;&nbsp; * @return per-<a href="../utils/spark/PerStageReport.scala.html#L26" title="com/microsoft/spark/insight/utils/spark/PerStageReport.scala:26">stage</a> tables report<br/>
&nbsp;&nbsp; */<br/>
<a id="L101">&#x200c;</a>&nbsp; protected def <span class="linkable">buildPerStageTables</span>[J, S, P &lt;: <a href="../utils/spark/SparkAppPerfReport.scala.html#L145" title="com/microsoft/spark/insight/utils/spark/SparkAppPerfReport.scala:145">PerfMetrics</a>[T]](<br/>
&nbsp; &nbsp; &nbsp; jobReportTitle: String,<br/>
&nbsp; &nbsp; &nbsp; <a href="../utils/spark/SparkAppPerfReportBase.scala.html#L70" title="com/microsoft/spark/insight/utils/spark/SparkAppPerfReportBase.scala:70">jobLevelReport</a>: ListMap[J, P],<br/>
&nbsp; &nbsp; &nbsp; stageReportTitle: String,<br/>
&nbsp; &nbsp; &nbsp; <a href="../utils/spark/SparkAppPerfReportBase.scala.html#L56" title="com/microsoft/spark/insight/utils/spark/SparkAppPerfReportBase.scala:56">perJobReport</a>: <a href="../utils/spark/PerJobReport.scala.html#L19" title="com/microsoft/spark/insight/utils/spark/PerJobReport.scala:19">PerJobReport</a>[J, S, P]): StringBuilder = {<br/>
&nbsp; &nbsp; val sb = new StringBuilder()<br/>
&nbsp; &nbsp; (<a href="#L80" title="com/microsoft/spark/insight/cli/PerfMetricsReport.scala:80">stageMatchWarning</a>(<a href="../utils/spark/SparkAppPerfReportBase.scala.html#L56" title="com/microsoft/spark/insight/utils/spark/SparkAppPerfReportBase.scala:56">perJobReport</a>), withStages) match {<br/>
&nbsp; &nbsp; &nbsp; case (Some(warning), _) =&gt; sb.<a href="frontend/CliTable.scala.html#L56" title="com/microsoft/spark/insight/cli/frontend/CliTable.scala:56">append</a>(warning)<br/>
&nbsp; &nbsp; &nbsp; case (None, false) =&gt;<br/>
&nbsp; &nbsp; &nbsp; &nbsp; sb.<a href="frontend/CliTable.scala.html#L56" title="com/microsoft/spark/insight/cli/frontend/CliTable.scala:56">append</a>(&quot;\nTip: You can check out per-<a href="../utils/spark/PerStageReport.scala.html#L26" title="com/microsoft/spark/insight/utils/spark/PerStageReport.scala:26">stage</a> reports by applying the optional parameter \&quot;-A\&quot;\<a href="../utils/AggregatePerfValue.scala.html#L28" title="com/microsoft/spark/insight/utils/AggregatePerfValue.scala:28">n</a>&quot;.<a href="frontend/package.scala.html#L36" title="com/microsoft/spark/insight/cli/frontend/package.scala:36">yellow</a>)<br/>
&nbsp; &nbsp; &nbsp; case (None, true) =&gt;<br/>
&nbsp; &nbsp; &nbsp; &nbsp; sb.<a href="frontend/CliTable.scala.html#L56" title="com/microsoft/spark/insight/cli/frontend/CliTable.scala:56">append</a>(s&quot;$jobReportTitle:\<a href="../utils/AggregatePerfValue.scala.html#L28" title="com/microsoft/spark/insight/utils/AggregatePerfValue.scala:28">n</a>\<a href="../utils/AggregatePerfValue.scala.html#L28" title="com/microsoft/spark/insight/utils/AggregatePerfValue.scala:28">n</a>&quot;)<br/>
&nbsp; &nbsp; &nbsp; &nbsp; <a href="../utils/spark/SparkAppPerfReportBase.scala.html#L70" title="com/microsoft/spark/insight/utils/spark/SparkAppPerfReportBase.scala:70">jobLevelReport</a>.foreach { jobData =&gt;<br/>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; val str = s&quot;jobKey: ${jobData._1.toString.<a href="frontend/package.scala.html#L33" title="com/microsoft/spark/insight/cli/frontend/package.scala:33">green</a>.<a href="frontend/package.scala.html#L60" title="com/microsoft/spark/insight/cli/frontend/package.scala:60">underlined</a>}&quot;<br/>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; val jobTableString = <a href="#L139" title="com/microsoft/spark/insight/cli/PerfMetricsReport.scala:139">generateTable</a>(str, jobData._2)<br/>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sb.<a href="frontend/CliTable.scala.html#L56" title="com/microsoft/spark/insight/cli/frontend/CliTable.scala:56">append</a>(jobTableString)<br/>
&nbsp; &nbsp; &nbsp; &nbsp; }<br/>
&nbsp; &nbsp; &nbsp; &nbsp; sb.<a href="frontend/CliTable.scala.html#L56" title="com/microsoft/spark/insight/cli/frontend/CliTable.scala:56">append</a>(s&quot;$stageReportTitle:\<a href="../utils/AggregatePerfValue.scala.html#L28" title="com/microsoft/spark/insight/utils/AggregatePerfValue.scala:28">n</a>\<a href="../utils/AggregatePerfValue.scala.html#L28" title="com/microsoft/spark/insight/utils/AggregatePerfValue.scala:28">n</a>&quot;)<br/>
&nbsp; &nbsp; &nbsp; &nbsp; for {<br/>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (jobKey, jobReport) &lt;- <a href="../utils/spark/SparkAppPerfReportBase.scala.html#L56" title="com/microsoft/spark/insight/utils/spark/SparkAppPerfReportBase.scala:56">perJobReport</a><br/>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (stageKey, perfMetric) &lt;- jobReport<br/>
&nbsp; &nbsp; &nbsp; &nbsp; } {<br/>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; val str = s&quot;jobKey: ${jobKey.toString.<a href="frontend/package.scala.html#L33" title="com/microsoft/spark/insight/cli/frontend/package.scala:33">green</a>.<a href="frontend/package.scala.html#L60" title="com/microsoft/spark/insight/cli/frontend/package.scala:60">underlined</a>}, stageKey: ${stageKey.toString.<a href="frontend/package.scala.html#L33" title="com/microsoft/spark/insight/cli/frontend/package.scala:33">green</a>.<a href="frontend/package.scala.html#L60" title="com/microsoft/spark/insight/cli/frontend/package.scala:60">underlined</a>}&quot;<br/>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; val stageTableString = <a href="#L139" title="com/microsoft/spark/insight/cli/PerfMetricsReport.scala:139">generateTable</a>(str, perfMetric)<br/>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sb.<a href="frontend/CliTable.scala.html#L56" title="com/microsoft/spark/insight/cli/frontend/CliTable.scala:56">append</a>(stageTableString)<br/>
&nbsp; &nbsp; &nbsp; &nbsp; }<br/>
&nbsp; &nbsp; }<br/>
&nbsp; &nbsp; sb<br/>
&nbsp; }<br/>
<br/>
&nbsp; /**<br/>
&nbsp;&nbsp; * Generate <a href="../utils/spark/PerStageReport.scala.html#L26" title="com/microsoft/spark/insight/utils/spark/PerStageReport.scala:26">stage</a>-level and <a href="../utils/spark/PerJobReport.scala.html#L48" title="com/microsoft/spark/insight/utils/spark/PerJobReport.scala:48">job</a>-level table<br/>
&nbsp;&nbsp; *<br/>
&nbsp;&nbsp; * @param heading table heading<br/>
&nbsp;&nbsp; * @param perfMetrics corresponding perfMetricsTye<br/>
&nbsp;&nbsp; * @tparam P <a href="../utils/spark/SparkAppPerfReport.scala.html#L145" title="com/microsoft/spark/insight/utils/spark/SparkAppPerfReport.scala:145">PerfMetrics</a> type<br/>
&nbsp;&nbsp; * @return table string<br/>
&nbsp;&nbsp; */<br/>
<a id="L139">&#x200c;</a>&nbsp; protected def <span class="linkable">generateTable</span>[P &lt;: <a href="../utils/spark/SparkAppPerfReport.scala.html#L145" title="com/microsoft/spark/insight/utils/spark/SparkAppPerfReport.scala:145">PerfMetrics</a>[T]](heading: String, perfMetrics: P): String = {<br/>
&nbsp; &nbsp; val sb = new StringBuilder()<br/>
&nbsp; &nbsp; sb.<a href="frontend/CliTable.scala.html#L56" title="com/microsoft/spark/insight/cli/frontend/CliTable.scala:56">append</a>(heading)<br/>
&nbsp; &nbsp; val stageTable = <a href="#L65" title="com/microsoft/spark/insight/cli/PerfMetricsReport.scala:65">buildMetricsTable</a>(perfMetrics, <a href="#L47" title="com/microsoft/spark/insight/cli/PerfMetricsReport.scala:47">tableStageHeader</a>)<br/>
&nbsp; &nbsp; sb.<a href="frontend/CliTable.scala.html#L56" title="com/microsoft/spark/insight/cli/frontend/CliTable.scala:56">append</a>(stageTable)<br/>
&nbsp; &nbsp; sb.<a href="frontend/CliTable.scala.html#L56" title="com/microsoft/spark/insight/cli/frontend/CliTable.scala:56">append</a>(String.<a href="../heuristics/StageAnalyzer.scala.html#L39" title="com/microsoft/spark/insight/heuristics/StageAnalyzer.scala:39">format</a>(&quot;-&quot; * 91) + &quot;\<a href="../utils/AggregatePerfValue.scala.html#L28" title="com/microsoft/spark/insight/utils/AggregatePerfValue.scala:28">n</a>&quot;)<br/>
&nbsp; &nbsp; sb.toString<br/>
&nbsp; }<br/>
}<br/>
<br/>
<a id="L149">&#x200c;</a>object <span class="linkable">PerfMetricsReport</span> {<br/>
<br/>
&nbsp; /**<br/>
&nbsp;&nbsp; * PerfTable <a href="../heuristics/HeuristicResult.scala.html#L24" title="com/microsoft/spark/insight/heuristics/HeuristicResult.scala:24">header</a> definition<br/>
&nbsp;&nbsp; *<br/>
&nbsp;&nbsp; * @param <a href="../heuristics/HeuristicResult.scala.html#L24" title="com/microsoft/spark/insight/heuristics/HeuristicResult.scala:24">header</a> the full head strings<br/>
&nbsp;&nbsp; * @param hasDescr include or exclude the metrics <a href="../fetcher/status/statusapiv1.scala.html#L106" title="com/microsoft/spark/insight/fetcher/status/statusapiv1.scala:106">description</a><br/>
&nbsp;&nbsp; */<br/>
<a id="L157">&#x200c;</a>&nbsp; case class <span class="linkable">PerfTableHeader</span>(<a href="../heuristics/HeuristicResult.scala.html#L24" title="com/microsoft/spark/insight/heuristics/HeuristicResult.scala:24">header</a>: Array[String], hasDescr: Boolean)<br/>
}<br/>
</code>

 </body>
</html>
