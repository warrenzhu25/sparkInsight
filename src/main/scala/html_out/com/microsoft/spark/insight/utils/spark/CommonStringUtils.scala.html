<!-- generated by the src2html.pl tool from code2ebook:
  https://github.com/agentzh/code2ebook
-->

<html>
 <head>
  <title>com/microsoft/spark/insight/utils/spark/CommonStringUtils.scala - Spark Insight</title>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <style>
body {
    text-align: left;
    text-align-last: left;
}

code {
    font-family: consolas, monospace;
    line-height: 130%;
}


  </style>
 </head>
 <body>

  <h1>com/microsoft/spark/insight/utils/spark/CommonStringUtils.scala - Spark Insight</h1>
 <h2>Data types defined</h2>
 <ul class="toc">
<li><a href="#L8">CommonStringUtils</a></li>
</ul>
 <h2>Functions defined</h2>
 <ul class="toc">
<li><a href="#L33">badAppWarning</a></li>
<li><a href="#L14">extractWarnings</a></li>
</ul>
 <h2>Source code</h2>

  <code>package com.microsoft.spark.insight.utils.spark<br/>
<br/>
import scala.collection.mutable.ArrayBuffer<br/>
<br/>
/**<br/>
 * Some common String utils<br/>
 */<br/>
<a id="L8">&#x200c;</a>object <span class="linkable">CommonStringUtils</span> {<br/>
<br/>
&nbsp; /**<br/>
&nbsp;&nbsp; * Generate warnings if there is a possibility of inconsistent metrics<br/>
&nbsp;&nbsp; * @param appReport a <a href="SparkAppPerfReport.scala.html#L26" title="com/microsoft/spark/insight/utils/spark/SparkAppPerfReport.scala:26">SparkAppPerfReport</a><br/>
&nbsp;&nbsp; */<br/>
<a id="L14">&#x200c;</a>&nbsp; def <span class="linkable">extractWarnings</span>(appReport: <a href="SparkAppPerfReport.scala.html#L26" title="com/microsoft/spark/insight/utils/spark/SparkAppPerfReport.scala:26">SparkAppPerfReport</a>): ArrayBuffer[String] = {<br/>
<br/>
&nbsp; &nbsp; val warnings = ArrayBuffer[String]()<br/>
<br/>
&nbsp; &nbsp; if (appReport.<a href="SparkAppPerfReport.scala.html#L39" title="com/microsoft/spark/insight/utils/spark/SparkAppPerfReport.scala:39">incompleteAppRun</a>) warnings += INCOMPLETE_APP_RUN_WARNING<br/>
<br/>
&nbsp; &nbsp; if (appReport.<a href="SparkAppPerfReport.scala.html#L46" title="com/microsoft/spark/insight/utils/spark/SparkAppPerfReport.scala:46">unsuccessfulJobsExist</a>) warnings += UNSUCCESSFUL_JOBS_EXIST_WARNING<br/>
<br/>
&nbsp; &nbsp; if (appReport.<a href="SparkAppPerfReport.scala.html#L53" title="com/microsoft/spark/insight/utils/spark/SparkAppPerfReport.scala:53">retriedStagesExist</a>) warnings += RETRIED_STAGES_EXIST_WARNING<br/>
<br/>
&nbsp; &nbsp; warnings<br/>
&nbsp; }<br/>
<br/>
&nbsp; /**<br/>
&nbsp;&nbsp; * Warning string pattern<br/>
&nbsp;&nbsp; * @param badAppReason Reason for the warning<br/>
&nbsp;&nbsp; * @param inconsistencyReason root cause of inconsistent metrics<br/>
&nbsp;&nbsp; * @return Warning String<br/>
&nbsp;&nbsp; */<br/>
<a id="L33">&#x200c;</a>&nbsp; def <span class="linkable">badAppWarning</span>(badAppReason: String, inconsistencyReason: String): String = {<br/>
&nbsp; &nbsp; s&quot;This application run $badAppReason.\nThis may lead to inconsistent metrics reporting due to &quot; +<br/>
&nbsp; &nbsp; &nbsp; s&quot;$inconsistencyReason. Metrics should be treated with caution.\<a href="../AggregatePerfValue.scala.html#L28" title="com/microsoft/spark/insight/utils/AggregatePerfValue.scala:28">n</a>&quot;<br/>
&nbsp; }<br/>
<br/>
&nbsp; /**<br/>
&nbsp;&nbsp; * Feedback link is added to this template in both cli and views.html modules.<br/>
&nbsp;&nbsp; */<br/>
&nbsp; val FEEDBACK_LINK_TEMPLATE: String = &quot;Got feedback/requests? please share it with us at&quot;<br/>
<br/>
&nbsp; /**<br/>
&nbsp;&nbsp; * GridBench feedback link<br/>
&nbsp;&nbsp; */<br/>
&nbsp; val FEEDBACK_LINK: String = &quot;http://go/gridbench/feedback&quot;<br/>
<br/>
&nbsp; /**<br/>
&nbsp;&nbsp; * GridBench go Link<br/>
&nbsp;&nbsp; */<br/>
&nbsp; val GRIDBENCH_LINK: String = &quot;http://go/gridbench&quot;<br/>
<br/>
&nbsp; /**<br/>
&nbsp;&nbsp; * warning string for an incomplete app run<br/>
&nbsp;&nbsp; */<br/>
&nbsp; val INCOMPLETE_APP_RUN_WARNING: String =<br/>
&nbsp; &nbsp; <a href="#L33" title="com/microsoft/spark/insight/utils/spark/CommonStringUtils.scala:33">badAppWarning</a>(&quot;wasn't marked as <a href="../../fetcher/status/statusapiv1.scala.html#L63" title="com/microsoft/spark/insight/fetcher/status/statusapiv1.scala:63">completed</a>, and was possibly stopped or killed prematurely&quot;, &quot;missing data&quot;)<br/>
<br/>
&nbsp; /**<br/>
&nbsp;&nbsp; * warning string for an application containing unsuccessful jobs<br/>
&nbsp;&nbsp; */<br/>
&nbsp; val UNSUCCESSFUL_JOBS_EXIST_WARNING: String = <a href="#L33" title="com/microsoft/spark/insight/utils/spark/CommonStringUtils.scala:33">badAppWarning</a>(&quot;contains unsuccessful <a href="PerJobReport.scala.html#L48" title="com/microsoft/spark/insight/utils/spark/PerJobReport.scala:48">job</a>(s)&quot;, &quot;missing data&quot;)<br/>
<br/>
&nbsp; /**<br/>
&nbsp;&nbsp; * warning string for application containing jobs with retried stages<br/>
&nbsp;&nbsp; */<br/>
&nbsp; val RETRIED_STAGES_EXIST_WARNING: String =<br/>
&nbsp; &nbsp; <a href="#L33" title="com/microsoft/spark/insight/utils/spark/CommonStringUtils.scala:33">badAppWarning</a>(&quot;contains <a href="PerStageReport.scala.html#L26" title="com/microsoft/spark/insight/utils/spark/PerStageReport.scala:26">stage</a>(s) with multiple <a href="../../fetcher/status/statusapiv1.scala.html#L49" title="com/microsoft/spark/insight/fetcher/status/statusapiv1.scala:49">attempts</a>&quot;, &quot;some <a href="../../fetcher/status/statusapiv1.scala.html#L180" title="com/microsoft/spark/insight/fetcher/status/statusapiv1.scala:180">tasks</a> running more than once&quot;)<br/>
<br/>
&nbsp; /**<br/>
&nbsp;&nbsp; * Warning String for diffReport with identical applications.<br/>
&nbsp;&nbsp; */<br/>
&nbsp; val IDENTICAL_APPS_WARNING: String = &quot;The provided two appIds are identical.&quot;<br/>
}<br/>
</code>

 </body>
</html>
