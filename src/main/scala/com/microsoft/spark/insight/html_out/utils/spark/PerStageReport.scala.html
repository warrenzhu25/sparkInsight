<!-- generated by the src2html.pl tool from code2ebook:
  https://github.com/agentzh/code2ebook
-->

<html>
 <head>
  <title>utils/spark/PerStageReport.scala - Spark Insight</title>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <style>
body {
    text-align: left;
    text-align-last: left;
}

code {
    font-family: consolas, monospace;
    line-height: 130%;
}


  </style>
 </head>
 <body>

  <h1>utils/spark/PerStageReport.scala - Spark Insight</h1>
 <h2>Data types defined</h2>
 <ul class="toc">
<li><a href="#L15">PerStageReport</a></li>
</ul>
 <h2>Functions defined</h2>
 <ul class="toc">
<li><a href="#L33">allStages</a></li>
<li><a href="#L26">stage</a></li>
<li><a href="#L40">stageKeys</a></li>
</ul>
 <h2>Source code</h2>

  <code>package com.microsoft.spark.insight.utils.spark<br/>
<br/>
import com.microsoft.spark.insight.utils._<br/>
<br/>
import scala.collection.immutable.ListMap<br/>
<br/>
/**<br/>
 * A container for a set of stages, indexed by their [[StageKey]] and coupled with their corresponding per-<a href="#L26" title="utils/spark/PerStageReport.scala:26">stage</a><br/>
 * metrics<br/>
 *<br/>
 * @param stages a sequence of stages and their metrics<br/>
 * @tparam StageKey the unique identifier to be used for stages<br/>
 * @tparam PerfMetricsType the type of [[<a href="SparkAppPerfReport.scala.html#L145" title="utils/spark/SparkAppPerfReport.scala:145">PerfMetrics</a>]] object to be used, per-<a href="#L26" title="utils/spark/PerStageReport.scala:26">stage</a><br/>
 */<br/>
<a id="L15">&#x200c;</a>class <span class="linkable">PerStageReport</span>[StageKey, PerfMetricsType &lt;: <a href="SparkAppPerfReport.scala.html#L145" title="utils/spark/SparkAppPerfReport.scala:145">PerfMetrics</a>[Any]](stages: Seq[(StageKey, PerfMetricsType)])<br/>
&nbsp; &nbsp; extends Iterable[(StageKey, PerfMetricsType)] {<br/>
&nbsp; // Use a ListMap to preserve <a href="SparkAppReportMatcher.scala.html#L172" title="utils/spark/SparkAppReportMatcher.scala:172">ordering</a> of entries<br/>
&nbsp; private val _stageMap: Map[StageKey, PerfMetricsType] = ListMap(stages: _*)<br/>
<br/>
&nbsp; /**<br/>
&nbsp;&nbsp; * Retrieve the [[PerfMetricsType]] for a particular [[StageKey]]<br/>
&nbsp;&nbsp; *<br/>
&nbsp;&nbsp; * @param stageKey stageKey to <a href="../../cli/AppReportSets.scala.html#L44" title="cli/AppReportSets.scala:44">retrieve</a> metrics for<br/>
&nbsp;&nbsp; * @return metrics<br/>
&nbsp;&nbsp; */<br/>
<a id="L26">&#x200c;</a>&nbsp; def <span class="linkable">stage</span>(stageKey: StageKey): PerfMetricsType = _stageMap(stageKey)<br/>
<br/>
&nbsp; /**<br/>
&nbsp;&nbsp; * Retrieve all of the [[PerfMetricsType]] objects associated with the set of stages<br/>
&nbsp;&nbsp; *<br/>
&nbsp;&nbsp; * @return an iterator over the underlying [[PerfMetricsType]] objects<br/>
&nbsp;&nbsp; */<br/>
<a id="L33">&#x200c;</a>&nbsp; def <span class="linkable">allStages</span>: Iterable[PerfMetricsType] = _stageMap.values<br/>
<br/>
&nbsp; /**<br/>
&nbsp;&nbsp; * Retrieve all of the [[StageKey]]s indexed in this collection<br/>
&nbsp;&nbsp; *<br/>
&nbsp;&nbsp; * @return an iterator over the <a href="#L40" title="utils/spark/PerStageReport.scala:40">stageKeys</a><br/>
&nbsp;&nbsp; */<br/>
<a id="L40">&#x200c;</a>&nbsp; def <span class="linkable">stageKeys</span>: Iterable[StageKey] = _stageMap.keys<br/>
<br/>
&nbsp; override def iterator: Iterator[(StageKey, PerfMetricsType)] = _stageMap.iterator<br/>
<br/>
&nbsp; override def equals(other: Any): Boolean = other match {<br/>
&nbsp; &nbsp; case that: <a href="#L15" title="utils/spark/PerStageReport.scala:15">PerStageReport</a>[StageKey, PerfMetricsType] =&gt; _stageMap.equals(that._stageMap)<br/>
&nbsp; &nbsp; case _ =&gt; false<br/>
&nbsp; }<br/>
<br/>
&nbsp; override def hashCode(): Int = {<br/>
&nbsp; &nbsp; val state = Seq(_stageMap)<br/>
&nbsp; &nbsp; state.map(_.hashCode()).foldLeft(0)((a, b) =&gt; 31 * a + b)<br/>
&nbsp; }<br/>
}<br/>
</code>

 </body>
</html>
